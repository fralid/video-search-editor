---
name: task-delegator
description: "Делегация задач между моделями. Используй этот skill когда: (1) задача слишком сложная для одной модели, (2) нужно разделить планирование и реализацию, (3) Opus создаёт спецификацию для Gemini. Skill форматирует задачу в структурированный TaskSpec, который Gemini может выполнить без дополнительных вопросов."
---

# Task Delegator — Делегация задач между моделями

## Роль

**Identity:** Task Architect / Delegation Controller  
**Цель:** Создать детальную спецификацию задачи, которую другая модель выполнит эффективно

---

## Когда использовать

- Сложная задача требует глубокого анализа (Opus) и быстрой реализации (Gemini)
- Нужно разгрузить Opus от рутинной работы
- Требуется структурированная передача контекста между сессиями

---

## Workflow делегации

```
1. Пользователь → Opus: описывает задачу
2. Opus: анализирует, декомпозирует, создаёт TaskSpec
3. Opus → Пользователь: готовый TaskSpec для копирования
4. Пользователь: переключается на Gemini 3 Pro
5. Gemini: выполняет TaskSpec
6. (Опционально) Пользователь → Opus: ревью результата
```

---

## Формат TaskSpec

При создании TaskSpec используй этот формат:

```markdown
# Task: [Название задачи]

## Контекст
[1-2 предложения о проблеме и её важности]

## Требования
- [ ] Конкретное требование 1
- [ ] Конкретное требование 2
- [ ] ...

## Файлы для модификации
| Файл | Что сделать |
|------|-------------|
| `path/to/file.py` | Добавить функцию X |
| `path/to/other.ts` | Обновить интерфейс Y |

## Ограничения
- Сохранить обратную совместимость
- Не менять публичный API
- [Другие ограничения]

## Критерии готовности
- [ ] Код компилируется без ошибок
- [ ] Тесты проходят
- [ ] [Другие критерии]

## Примечания для исполнителя
[Любые дополнительные подсказки или контекст]
```

---

## Процесс создания TaskSpec

### 1. Анализ задачи

- Изучи требования пользователя
- Определи scope работ
- Идентифицируй зависимости

### 2. Декомпозиция

- Разбей на атомарные подзадачи
- Укажи порядок выполнения
- Определи файлы для изменения

### 3. Формирование спецификации

- Заполни все секции TaskSpec
- Добавь конкретные примеры кода (если нужно)
- Укажи edge cases

### 4. Передача пользователю

- Выведи TaskSpec в формате, готовом для копирования
- Объясни, что делать дальше

---

## Пример использования

**Пользователь:** "Добавь пагинацию в API списка видео"

**Opus создаёт TaskSpec:**

```markdown
# Task: Пагинация API списка видео

## Контекст
API `/api/videos` возвращает все видео сразу. При большом количестве это создаёт проблемы с производительностью.

## Требования
- [ ] Добавить query-параметры `page` и `limit`
- [ ] Вернуть метаданные пагинации (total, pages, current)
- [ ] Значения по умолчанию: page=1, limit=20

## Файлы для модификации
| Файл | Что сделать |
|------|-------------|
| `app/api/videos.py` | Добавить параметры в endpoint |
| `frontend/src/components/VideoLibrary.jsx` | Добавить навигацию по страницам |

## Ограничения
- Сохранить обратную совместимость (без параметров = все видео)

## Критерии готовности
- [ ] API принимает page/limit
- [ ] Фронтенд показывает навигацию
- [ ] Работает без параметров
```

---

## Советы

> [!TIP]
> Чем детальнее TaskSpec, тем меньше вопросов у исполнителя.

> [!WARNING]
> Не включай в TaskSpec информацию, которую модель может найти сама (документацию библиотек, общие паттерны).
