---
name: skill-creator
description: Руководство по созданию эффективных навыков. Этот навык следует использовать, когда пользователи хотят создать новый навык (или обновить существующий), который расширяет возможности Агента (Antigravity) специализированными знаниями, рабочими процессами или интеграцией инструментов.
license: Полные условия в LICENSE.txt
---

# Создатель Навыков (Skill Creator)

Этот навык предоставляет руководство по созданию эффективных навыков.

## О Навыках

Навыки — это модульные, автономные пакеты, которые расширяют возможности Агента, предоставляя специализированные знания, рабочие процессы и инструменты. Думайте о них как о "руководствах по адаптации" для конкретных доменных областей или задач — они превращают Агента из универсального помощника в специализированного эксперта, обладающего процедурными знаниями, которыми не может полностью обладать ни одна модель.

### Что дают Навыки

1.  **Специализированные рабочие процессы** — Многошаговые процедуры для конкретных доменов (реализуются через `workflows/` или инструкции в `SKILL.md`).
2.  **Интеграции инструментов** — Инструкции по работе с конкретными форматами файлов или API.
3.  **Доменная экспертиза** — Специфичные для компании знания, схемы, бизнес-логика.
4.  **Пакетные ресурсы** — Скрипты, справочники и активы для сложных и повторяющихся задач.

## Основные Принципы

### Краткость — это ключ

Контекстное окно — это общественный ресурс. Навыки делят контекстное окно со всем остальным, что нужно Агенту: системным промптом, историей разговора, метаданными других навыков и актуальным запросом пользователя.

**Постулат по умолчанию: Агент уже очень умен.** Добавляйте только тот контекст, которого у Агента еще нет. Подвергайте сомнению каждую часть информации: "Действительно ли Агенту нужно это объяснение?" и "Оправдывает ли этот абзац затраты токенов?"

Предпочитайте краткие примеры многословным объяснениям.

### Установите Подходящие Степени Свободы

Сопоставьте уровень конкретики с хрупкостью и вариативностью задачи:

**Высокая свобода (текстовые инструкции)**: Используйте, когда допустимы несколько подходов, решения зависят от контекста или подход определяется эвристикой.

**Средняя свобода (псевдокод или скрипты с параметрами)**: Используйте, когда существует предпочтительный паттерн, допустимы некоторые вариации или конфигурация влияет на поведение.

**Низкая свобода (конкретные скрипты или строгие рабочие процессы)**: Используйте, когда операции хрупкие и подвержены ошибкам, критична последовательность или необходимо следовать строгому порядку.

Думайте об Агенте как о исследователе пути: узкий мост с обрывами требует перил (низкая свобода), в то время как чистое поле позволяет выбирать множество маршрутов (высокая свобода).

### Анатомия Навыка

Каждый навык состоит из обязательного файла `SKILL.md` и опциональных пакетных ресурсов:

```
skill-name/
├── SKILL.md (обязательно)
│   ├── YAML frontmatter metadata (обязательно)
│   │   ├── name: (обязательно)
│   │   └── description: (обязательно)
│   └── Markdown-инструкции (обязательно)
└── Bundled Resources (опционально)
    ├── workflows/        - Агентные рабочие процессы (.md файлы в .agent/workflows)
    ├── scripts/          - Исполняемый код (Python/Bash/и т.д.)
    ├── references/       - Документация, предназначенная для загрузки в контекст по необходимости
    └── assets/           - Файлы, используемые в выводе (шаблоны, иконки, шрифты и т.д.)
```

#### SKILL.md (обязательно)

Каждый `SKILL.md` состоит из:

-   **Frontmatter** (YAML): Содержит поля `name` (имя) и `description` (описание). Это единственные поля, которые Агент читает, чтобы определить, когда использовать навык. Поэтому очень важно четко и исчерпывающе описывать, что это за навык и когда его следует использовать.
-   **Body** (Markdown): Инструкции и руководство по использованию навыка. Загружается только ПОСЛЕ срабатывания навыка (если вообще загружается).

#### Пакетные Ресурсы (опционально)

##### Workflows (`workflows/`)

Агентные рабочие процессы — это структурированные инструкции, которые Агент выполняет автономно.

-   **Когда включать**: Для четких, пошаговых процедур, где важен контроль над выполнением.
-   **Пример**: `workflows/deploy-app.md` для деплоя приложения.

##### Scripts (`scripts/`)

Исполняемый код (Python/Bash/и т.д.) для задач, требующих детерминированной надежности или которые часто переписываются.

-   **Когда включать**: Когда один и тот же код переписывается многократно или нужна детерминированная надежность.
-   **Пример**: `scripts/rotate_pdf.py` для задач поворота PDF.
-   **Преимущества**: Эффективность по токенам, детерминизм, могут выполняться без загрузки в контекст.
-   **Примечание**: Скрипты все же могут быть прочитаны Агентом для исправлений или адаптации к среде.

##### References (`references/`)

Документация и справочные материалы, предназначенные для загрузки в контекст по мере необходимости для информирования процесса мышления Агента.

-   **Когда включать**: Для документации, на которую Агент должен ссылаться во время работы.
-   **Примеры**: `references/finance.md` для финансовых схем, `references/policies.md` для политик компании, `references/api_docs.md` для спецификаций API.
-   **Случаи использования**: Схемы баз данных, документация API, доменные знания, политики компании, детальные руководства.
-   **Преимущества**: Сохраняет `SKILL.md` компактным, загружается только когда Агент решает, что это нужно.
-   **Лучшая практика**: Если файлы большие (>10k слов), включите шаблоны поиска grep в `SKILL.md`.
-   **Избегайте дублирования**: Информация должна быть либо в `SKILL.md`, либо в файлах справочников, но не в обоих местах. Предпочитайте файлы справочников для детальной информации, если она не является критически важной для навыка — это сохраняет `SKILL.md` компактным. Оставляйте в `SKILL.md` только основные процедурные инструкции.

##### Assets (`assets/`)

Файлы, не предназначенные для загрузки в контекст, а используемые в выводе, который создает Агент.

-   **Когда включать**: Когда навыку нужны файлы, которые будут использованы в конечном результате.
-   **Примеры**: `assets/logo.png`, `assets/slides.pptx` (шаблоны презентаций), `assets/frontend-template/` (шаблоны кода).
-   **Случаи использования**: Шаблоны, изображения, иконки, шаблонный код, шрифты.
-   **Преимущества**: Отделяет ресурсы вывода от документации, позволяет Агенту использовать файлы без их загрузки в контекст.

#### Чего НЕ должно быть в Навыке

Навык должен содержать только необходимые файлы, которые напрямую поддерживают его функциональность. НЕ создавайте лишнюю документацию или вспомогательные файлы, такие как:

-   README.md
-   INSTALLATION_GUIDE.md
-   QUICK_REFERENCE.md
-   CHANGELOG.md
-   и т.д.

Навык должен содержать только информацию, необходимую ИИ-агенту для выполнения задачи. Он не должен содержать вспомогательный контекст о процессе создания, процедурах настройки и тестирования или документацию для пользователя.

### Принцип Постепенного Раскрытия

Навыки используют трехуровневую систему загрузки для эффективного управления контекстом:

1.  **Метаданные (имя + описание)** — Всегда в контексте (~100 слов).
2.  **Тело SKILL.md** — Когда навык срабатывает (<5k слов).
3.  **Пакетные ресурсы** — По мере необходимости Агенту (Неограниченно, так как скрипты/workflows выполняются или читаются по запросу).

#### Паттерны Постепенного Раскрытия

Держите тело `SKILL.md` только для самого важного и менее 500 строк, чтобы минимизировать раздувание контекста. Разделяйте контент на отдельные файлы при приближении к этому лимиту. При выделении контента в другие файлы очень важно ссылаться на них из `SKILL.md` и четко описывать, когда их читать.

**Ключевой принцип:** Когда навык поддерживает несколько вариаций, фреймворков или опций, держите в `SKILL.md` только основной рабочий процесс и руководство по выбору. Переместите детали, специфичные для вариантов (паттерны, примеры, конфигурацию), в отдельные файлы справочников.

**Паттерн 1: Высокоуровневое руководство со ссылками**

```markdown
# Обработка PDF

## Быстрый старт

Извлечение текста с помощью pdfplumber:
[пример кода]

## Продвинутые функции

- **Заполнение форм**: См. [FORMS.md](FORMS.md) для полного руководства
- **Справочник API**: См. [REFERENCE.md](REFERENCE.md) для всех методов
- **Примеры**: См. [EXAMPLES.md](EXAMPLES.md) для общих паттернов
```

Агент загружает FORMS.md, REFERENCE.md или EXAMPLES.md только по необходимости.

**Паттерн 2: Организация по доменам**

Для навыков с несколькими доменами организуйте контент по доменам, чтобы избежать загрузки нерелевантного контекста:

```
bigquery-skill/
├── SKILL.md (обзор и навигация)
└── reference/
    ├── finance.md (выручка, биллинговые метрики)
    ├── sales.md (возможности, пайплайн)
    └── marketing.md (кампании, атрибуция)
```

Когда пользователь спрашивает о метриках продаж, Агент читает только `sales.md`.

**Паттерн 3: Условные детали**

Показывайте базовый контент, ссылайтесь на продвинутый:

```markdown
# Обработка DOCX

## Создание документов

Используйте docx-js для новых документов. См. [DOCX-JS.md](DOCX-JS.md).

## Редактирование документов

Для простых правок изменяйте XML напрямую.

**Для отслеживания изменений**: См. [REDLINING.md](REDLINING.md)
**Для деталей OOXML**: См. [OOXML.md](OOXML.md)
```

Агент читает `REDLINING.md` или `OOXML.md` только когда пользователю нужны эти функции.

**Важные рекомендации:**

-   **Избегайте глубоко вложенных ссылок** — Держите ссылки на одном уровне от `SKILL.md`. Все файлы справочников должны быть связаны напрямую с `SKILL.md`.
-   **Структурируйте длинные файлы справочников** — Для файлов длиннее 100 строк включайте оглавление вверху.

## Процесс Создания Навыка

Создание навыка включает эти шаги:

1.  Понять навык на конкретных примерах
2.  Спланировать переиспользуемое содержимое навыка (рабочие процессы, скрипты, справочники, активы)
3.  Инициализировать навык (запустить `init_skill.py`)
4.  Редактировать навык (реализовать ресурсы и написать `SKILL.md`)
5.  Упаковать навык (запустить `package_skill.py`)
6.  Итерировать на основе реального использования

Следуйте этим шагам по порядку.

### Шаг 1: Понимание Навыка на Конкретных Примерах

Пропускайте этот шаг только тогда, когда паттерны использования навыка уже четко понятны.

Чтобы создать эффективный навык, четко поймите конкретные примеры того, как навык будет использоваться. Это понимание может исходить из прямых примеров пользователей или сгенерированных примеров.

Например, при создании навыка `image-editor`, релевантные вопросы:
- "Какую функциональность должен поддерживать навык? Редактирование, поворот, что-то еще?"
- "Можете ли вы дать примеры использования?"
- "Что должен сказать пользователь, чтобы запустить этот навык?"

Завершите этот шаг, когда будет четкое понимание функциональности.

### Шаг 2: Планирование Переиспользуемого Содержимого

Чтобы превратить конкретные примеры в эффективный навык, проанализируйте каждый пример:

1.  Рассмотрите, как выполнить пример с нуля.
2.  Определите, какие скрипты, справочники и активы были бы полезны.

Пример: При создании навыка `pdf-editor` для запросов типа "Поверни этот PDF":
1.  Поворот PDF требует переписывания одного и того же кода каждый раз.
2.  Скрипт `scripts/rotate_pdf.py` был бы полезен.

Пример: При создании навыка `frontend-webapp-builder`:
1.  Написание веб-приложения требует одного и того же шаблона HTML/React каждый раз.
2.  Ассет `assets/hello-world/` с шаблоном проекта был бы полезен.

### Шаг 3: Инициализация Навыка

В этот момент пора создавать навык.

Когда создаете новый навык с нуля, всегда запускайте скрипт `init_skill.py`. Скрипт удобно генерирует структуру и шаблоны.

Использование:

```bash
python .agent/skills/skill-creator/scripts/init_skill.py <имя-навыка> --path .agent/skills
```

Скрипт:
-   Создает каталог навыка.
-   Генерирует шаблон `SKILL.md` (на русском).
-   Создает примеры каталогов ресурсов: `workflows/`, `scripts/`, `references/`, `assets/`.

### Шаг 4: Редактирование Навыка

Когда редактируете навык, помните, что он создается для использования другой копией Агента. Включайте информацию, которая будет полезна и неочевидна для Агента. Учитывайте процедурные знания, доменные детали или активы.

#### Используйте Проверенные Паттерны Проектирования

-   **Многошаговые процессы**: Используйте `workflows/` для последовательных задач.
-   **Специфичные форматы вывода**: См. референсы по шаблонам.

#### Начните с Переиспользуемого Содержимого

Начните реализацию с ресурсов: `workflows/`, `scripts/`, `references/`, `assets/`.

Добавленные скрипты должны быть протестированы. Любые примеры файлов, не нужные для навыка, должны быть удалены.

#### Обновление SKILL.md

**Правила написания:** Всегда используйте повелительное наклонение/инфинитив.

##### Frontmatter

Напишите YAML frontmatter с `name` и `description`:

-   `name`: Имя навыка.
-   `description`: Это основной механизм запуска навыка.
    -   Включите и то, ЧТО делает навык, и конкретные триггеры/контексты.
    -   Включите всё "когда использовать" здесь, а не в теле.

##### Body

Напишите инструкции по использованию навыка и его ресурсов.

### Шаг 5: Упаковка Навыка

Когда разработка завершена, навык должен быть упакован в распространяемый файл `.skill`.

```bash
python .agent/skills/skill-creator/scripts/package_skill.py <путь-к-папке-навыка>
```

Скрипт упаковки:
1.  **Валидирует** навык автоматически.
2.  **Упаковывает** навык, если валидация прошла, создавая zip-файл с расширением `.skill`.

### Шаг 6: Итерация

После тестирования пользователи могут запросить улучшения.

**Рабочий процесс итерации:**
1.  Используйте навык на реальных задачах.
2.  Заметьте трудности или неэффективность.
3.  Определите, как обновить `SKILL.md` или ресурсы.
4.  Внесите изменения и протестируйте снова.
